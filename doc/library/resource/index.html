
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    

    <title>4. Resource Management &mdash; SAGA 0.9.11 documentation</title>

<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;"/>


    
    <link rel="stylesheet" href="../../_static/rtd.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.9.11',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../../../_static/searchtools.js"></script>
    <link rel="top" title="SAGA 0.9.11 documentation" href="../../index.html" />
    <link rel="up" title="2. Library Reference" href="../index.html" />
    <link rel="next" title="5. Replica Management" href="../replica/index.html" />
    <link rel="prev" title="3. Files and Directories" href="../filesystem/index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../replica/index.html" title="5. Replica Management"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../filesystem/index.html" title="3. Files and Directories"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">SAGA 0.9.11 documentation</a> &raquo;</li>
          <li><a href="../index.html" accesskey="U">2. Library Reference</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="resource-management">
<span id="id1"></span><h1>4. Resource Management<a class="headerlink" href="#resource-management" title="Permalink to this headline">Â¶</a></h1>
<p>Let&#8217;s start with a basic example. We start a VM on Amazon EC2 using the
SAGA resource API, submit a job to the newly instantiated VM using the
SAGA job API and finally shut down the VM.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In order to run this example, you need an account with Amazon EC2. You
also need your Amazon EC2 id and key.</p>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">__author__</span>    <span class="o">=</span> <span class="s">&quot;Andre Merzky, Ole Weidner&quot;</span>
<span class="n">__copyright__</span> <span class="o">=</span> <span class="s">&quot;Copyright 2012-2013, The SAGA Project&quot;</span>
<span class="n">__license__</span>   <span class="o">=</span> <span class="s">&quot;MIT&quot;</span>

<span class="sd">&quot;&quot;&quot; This is an example which shows how to access Amazon EC2 clouds via the SAGA</span>
<span class="sd">    resource package.</span>

<span class="sd">    In order to run this example, you need to set the following environment</span>
<span class="sd">    variables:</span>

<span class="sd">    * EC2_ID:           Your Amazon EC2 ID</span>
<span class="sd">    * EC2_KEY:          You Amazon EC2 KEY</span>
<span class="sd">    * EC2_SSH_KEYPAIR:  The SSH keypair you want to use to access the VM, e.g.,</span>
<span class="sd">                        /home/username/.ssh/rsa_ec2</span>
<span class="sd">                        (You can create a new temporary one using &#39;ssh-keygen&#39;)</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">saga</span>
<span class="kn">import</span> <span class="nn">time</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>

    <span class="c"># In order to connect to EC2, we need an EC2 ID and KEY. We read those</span>
    <span class="c"># from the environment.</span>
    <span class="n">ec2_ctx</span> <span class="o">=</span> <span class="n">saga</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span><span class="s">&#39;EC2&#39;</span><span class="p">)</span>
    <span class="n">ec2_ctx</span><span class="o">.</span><span class="n">user_id</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s">&#39;EC2_ID&#39;</span><span class="p">]</span>
    <span class="n">ec2_ctx</span><span class="o">.</span><span class="n">user_key</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s">&#39;EC2_KEY&#39;</span><span class="p">]</span>

    <span class="c"># The SSH keypair we want to use the access the EC2 VM. If the keypair is</span>
    <span class="c"># not yet registered on EC2 saga will register it automatically.</span>
    <span class="n">ec2keypair_ctx</span> <span class="o">=</span> <span class="n">saga</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span><span class="s">&#39;EC2_KEYPAIR&#39;</span><span class="p">)</span>
    <span class="n">ec2keypair_ctx</span><span class="o">.</span><span class="n">token</span> <span class="o">=</span> <span class="s">&#39;TODO&#39;</span>  <span class="c"># keypair name</span>
    <span class="n">ec2keypair_ctx</span><span class="o">.</span><span class="n">user_key</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s">&#39;EC2_SSH_KEYPAIR&#39;</span><span class="p">]</span>
    <span class="n">ec2keypair_ctx</span><span class="o">.</span><span class="n">user_id</span> <span class="o">=</span> <span class="s">&#39;root&#39;</span>  <span class="c"># the user id on the target VM</span>

    <span class="c"># TODO</span>
    <span class="n">ssh_ctx</span> <span class="o">=</span> <span class="n">saga</span><span class="o">.</span><span class="n">Context</span><span class="p">(</span><span class="s">&#39;SSH&#39;</span><span class="p">)</span>
    <span class="n">ssh_ctx</span><span class="o">.</span><span class="n">user_id</span> <span class="o">=</span> <span class="s">&#39;root&#39;</span>
    <span class="n">ssh_ctx</span><span class="o">.</span><span class="n">user_key</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s">&#39;EC2_SSH_KEYPAIR&#39;</span><span class="p">]</span>

    <span class="n">session</span> <span class="o">=</span> <span class="n">saga</span><span class="o">.</span><span class="n">Session</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>  <span class="c"># FALSE: don&#39;t use other (default) contexts</span>
    <span class="n">session</span><span class="o">.</span><span class="n">contexts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ec2_ctx</span><span class="p">)</span>
    <span class="n">session</span><span class="o">.</span><span class="n">contexts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ec2keypair_ctx</span><span class="p">)</span>
    <span class="n">session</span><span class="o">.</span><span class="n">contexts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ssh_ctx</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="c">######################################################################</span>
        <span class="c">##  STEP 1: Start a VM on EC2                                       ##</span>
        <span class="c">######################################################################</span>

        <span class="c"># in this session, connect to the EC2 resource manager</span>
        <span class="n">rm</span> <span class="o">=</span> <span class="n">saga</span><span class="o">.</span><span class="n">resource</span><span class="o">.</span><span class="n">Manager</span><span class="p">(</span><span class="s">&quot;ec2://aws.amazon.com/&quot;</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">)</span>

        <span class="c"># Create a resource description with an image and an OS template,.</span>
        <span class="c"># We pick a small VM and a plain Ubuntu image...</span>
        <span class="n">cd</span> <span class="o">=</span> <span class="n">saga</span><span class="o">.</span><span class="n">resource</span><span class="o">.</span><span class="n">ComputeDescription</span><span class="p">()</span>
        <span class="n">cd</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="s">&#39;ami-0256b16b&#39;</span>
        <span class="n">cd</span><span class="o">.</span><span class="n">template</span> <span class="o">=</span> <span class="s">&#39;Small Instance&#39;</span>

        <span class="c"># Create a VM instance from that description.</span>
        <span class="n">cr</span> <span class="o">=</span> <span class="n">rm</span><span class="o">.</span><span class="n">acquire</span><span class="p">(</span><span class="n">cd</span><span class="p">)</span>

        <span class="k">print</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">Waiting for VM to become active...&quot;</span>

        <span class="c"># Wait for the VM to &#39;boot up&#39;, i.e., become &#39;ACTIVE&#39;</span>
        <span class="k">if</span> <span class="n">cr</span><span class="o">.</span><span class="n">state</span> <span class="o">!=</span> <span class="n">saga</span><span class="o">.</span><span class="n">resource</span><span class="o">.</span><span class="n">ACTIVE</span><span class="p">:</span>
            <span class="n">cr</span><span class="o">.</span><span class="n">wait</span><span class="p">(</span><span class="n">saga</span><span class="o">.</span><span class="n">resource</span><span class="o">.</span><span class="n">ACTIVE</span><span class="p">)</span>

        <span class="c"># Query some information about the newly created VM</span>
        <span class="k">print</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">Created VM: </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">cr</span><span class="o">.</span><span class="n">id</span>
        <span class="k">print</span> <span class="s">&quot;  state  : </span><span class="si">%s</span><span class="s"> (</span><span class="si">%s</span><span class="s">)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">cr</span><span class="o">.</span><span class="n">state</span><span class="p">,</span> <span class="n">cr</span><span class="o">.</span><span class="n">state_detail</span><span class="p">)</span>
        <span class="k">print</span> <span class="s">&quot;  access : </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">cr</span><span class="o">.</span><span class="n">access</span>

        <span class="c"># give the VM some time to start up comlpetely, otherwise the subsequent</span>
        <span class="c"># job submission might end up failing...</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>

        <span class="c">######################################################################</span>
        <span class="c">##  STEP 2: Run a Job on the VM                                     ##</span>
        <span class="c">######################################################################</span>

        <span class="n">js</span> <span class="o">=</span> <span class="n">saga</span><span class="o">.</span><span class="n">job</span><span class="o">.</span><span class="n">Service</span><span class="p">(</span><span class="n">cr</span><span class="o">.</span><span class="n">access</span><span class="p">,</span> <span class="n">session</span><span class="o">=</span><span class="n">session</span><span class="p">)</span>

        <span class="n">jd</span> <span class="o">=</span> <span class="n">saga</span><span class="o">.</span><span class="n">job</span><span class="o">.</span><span class="n">Description</span><span class="p">()</span>
        <span class="n">jd</span><span class="o">.</span><span class="n">executable</span> <span class="o">=</span> <span class="s">&#39;/bin/sleep&#39;</span>
        <span class="n">jd</span><span class="o">.</span><span class="n">arguments</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;30&#39;</span><span class="p">]</span>

        <span class="n">job</span> <span class="o">=</span> <span class="n">js</span><span class="o">.</span><span class="n">create_job</span><span class="p">(</span><span class="n">jd</span><span class="p">)</span>
        <span class="n">job</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>

        <span class="k">print</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">Running Job: </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">job</span><span class="o">.</span><span class="n">id</span>
        <span class="k">print</span> <span class="s">&quot;  state : </span><span class="si">%s</span><span class="s"> (</span><span class="si">%s</span><span class="s">)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">job</span><span class="o">.</span><span class="n">state</span><span class="p">)</span>
        <span class="n">job</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>
        <span class="k">print</span> <span class="s">&quot;  state : </span><span class="si">%s</span><span class="s"> (</span><span class="si">%s</span><span class="s">)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">job</span><span class="o">.</span><span class="n">state</span><span class="p">)</span>

    <span class="k">except</span> <span class="n">saga</span><span class="o">.</span><span class="n">SagaException</span><span class="p">,</span> <span class="n">ex</span><span class="p">:</span>
        <span class="c"># Catch all saga exceptions</span>
        <span class="k">print</span> <span class="s">&quot;An exception occured: (</span><span class="si">%s</span><span class="s">) </span><span class="si">%s</span><span class="s"> &quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">ex</span><span class="o">.</span><span class="n">type</span><span class="p">,</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">ex</span><span class="p">)))</span>
        <span class="c"># Trace back the exception. That can be helpful for debugging.</span>
        <span class="k">print</span> <span class="s">&quot; </span><span class="se">\n</span><span class="s">*** Backtrace:</span><span class="se">\n</span><span class="s"> </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">ex</span><span class="o">.</span><span class="n">traceback</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>

    <span class="k">finally</span><span class="p">:</span>

        <span class="c">######################################################################</span>
        <span class="c">##  STEP 2: Shut down the VM                                        ##</span>
        <span class="c">######################################################################</span>

        <span class="n">cr</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>

        <span class="k">print</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">Destroyed VM: </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">cr</span><span class="o">.</span><span class="n">id</span>
        <span class="k">print</span> <span class="s">&quot;  state : </span><span class="si">%s</span><span class="s"> (</span><span class="si">%s</span><span class="s">)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">cr</span><span class="o">.</span><span class="n">state</span><span class="p">,</span> <span class="n">cr</span><span class="o">.</span><span class="n">state_detail</span><span class="p">)</span>
        <span class="k">return</span> <span class="mi">0</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
</pre></div>
</div>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#resource-manager-saga-resource-manager" id="id6">Resource Manager &#8211; <a class="reference internal" href="#saga.resource.Manager" title="saga.resource.Manager"><tt class="xref py py-class docutils literal"><span class="pre">saga.resource.Manager</span></tt></a></a></li>
<li><a class="reference internal" href="#resource-description-saga-resource-description" id="id7">Resource Description &#8211; <a class="reference internal" href="#saga.resource.Description" title="saga.resource.Description"><tt class="xref py py-class docutils literal"><span class="pre">saga.resource.Description</span></tt></a></a></li>
<li><a class="reference internal" href="#resource-saga-resource-resource" id="id8">Resource &#8211; <a class="reference internal" href="#saga.resource.Resource" title="saga.resource.Resource"><tt class="xref py py-class docutils literal"><span class="pre">saga.resource.Resource</span></tt></a></a></li>
</ul>
</div>
<div class="section" id="resource-manager-saga-resource-manager">
<span id="resource-manager"></span><h2><a class="toc-backref" href="#id6">4.1. Resource Manager &#8211; <a class="reference internal" href="#saga.resource.Manager" title="saga.resource.Manager"><tt class="xref py py-class docutils literal"><span class="pre">saga.resource.Manager</span></tt></a></a><a class="headerlink" href="#resource-manager-saga-resource-manager" title="Permalink to this headline">Â¶</a></h2>
<dl class="class">
<dt id="saga.resource.Manager">
<em class="property">class </em><tt class="descclassname">saga.resource.</tt><tt class="descname">Manager</tt><big>(</big><em>*pargs</em>, <em>**pkwargs</em><big>)</big><a class="headerlink" href="#saga.resource.Manager" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">saga.base.Base</span></tt>, <tt class="xref py py-class docutils literal"><span class="pre">saga.async.Async</span></tt></p>
<p>In the context of SAGA-Python, a <em>ResourceManager</em> is a service which asserts
control over a set of resources.  That manager can, on request, render
control over subsets of those resources (resource slices) to an application.</p>
<p>This <tt class="xref py py-class docutils literal"><span class="pre">Manager</span></tt> class represents the contact point to such
ResourceManager instances &#8211; the application can thus acquire compute, data
or network resources, according to some resource specification, for a bound
or unbound amount of time.</p>
<dl class="classmethod">
<dt id="saga.resource.Manager.create">
<em class="property">classmethod </em><tt class="descname">create</tt><big>(</big><em>*pargs</em>, <em>**pkwargs</em><big>)</big><a class="headerlink" href="#saga.resource.Manager.create" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="saga.resource.Manager.list">
<tt class="descname">list</tt><big>(</big><em>*pargs</em>, <em>**pkwargs</em><big>)</big><a class="headerlink" href="#saga.resource.Manager.list" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="saga.resource.Manager.get_description">
<tt class="descname">get_description</tt><big>(</big><em>*pargs</em>, <em>**pkwargs</em><big>)</big><a class="headerlink" href="#saga.resource.Manager.get_description" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="saga.resource.Manager.list_templates">
<tt class="descname">list_templates</tt><big>(</big><em>*pargs</em>, <em>**pkwargs</em><big>)</big><a class="headerlink" href="#saga.resource.Manager.list_templates" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="saga.resource.Manager.get_template">
<tt class="descname">get_template</tt><big>(</big><em>*pargs</em>, <em>**pkwargs</em><big>)</big><a class="headerlink" href="#saga.resource.Manager.get_template" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="saga.resource.Manager.list_images">
<tt class="descname">list_images</tt><big>(</big><em>*pargs</em>, <em>**pkwargs</em><big>)</big><a class="headerlink" href="#saga.resource.Manager.list_images" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="saga.resource.Manager.get_image">
<tt class="descname">get_image</tt><big>(</big><em>*pargs</em>, <em>**pkwargs</em><big>)</big><a class="headerlink" href="#saga.resource.Manager.get_image" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="saga.resource.Manager.acquire">
<tt class="descname">acquire</tt><big>(</big><em>*pargs</em>, <em>**pkwargs</em><big>)</big><a class="headerlink" href="#saga.resource.Manager.acquire" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="saga.resource.Manager.destroy">
<tt class="descname">destroy</tt><big>(</big><em>*pargs</em>, <em>**pkwargs</em><big>)</big><a class="headerlink" href="#saga.resource.Manager.destroy" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="resource-description-saga-resource-description">
<span id="resource-description"></span><h2><a class="toc-backref" href="#id7">4.2. Resource Description &#8211; <a class="reference internal" href="#saga.resource.Description" title="saga.resource.Description"><tt class="xref py py-class docutils literal"><span class="pre">saga.resource.Description</span></tt></a></a><a class="headerlink" href="#resource-description-saga-resource-description" title="Permalink to this headline">Â¶</a></h2>
<dl class="class">
<dt id="saga.resource.Description">
<em class="property">class </em><tt class="descclassname">saga.resource.</tt><tt class="descname">Description</tt><big>(</big><em>*pargs</em>, <em>**pkwargs</em><big>)</big><a class="headerlink" href="#saga.resource.Description" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../attribute.html#saga.attributes.Attributes" title="saga.attributes.Attributes"><tt class="xref py py-class docutils literal"><span class="pre">saga.attributes.Attributes</span></tt></a></p>
<p>The resource description class.</p>
<p>Resource descriptions are used for two purposes:</p>
<blockquote>
<div><ul class="simple">
<li>an application can pass a description instances to a
<a class="reference internal" href="#saga.resource.Manager" title="saga.resource.Manager"><tt class="xref py py-class docutils literal"><span class="pre">saga.resource.Manager</span></tt></a> instance, to request control 
over the resource slice described in the description;</li>
<li>an application can request a resource&#8217;s description for 
inspection of resource properties.</li>
</ul>
</div></blockquote>
<p>There are three specific types of descriptions:</p>
<blockquote>
<div><ul class="simple">
<li><tt class="xref py py-class docutils literal"><span class="pre">saga.resource.ComputeDescription</span></tt> for the description of
resources with compute capabilities;</li>
<li><tt class="xref py py-class docutils literal"><span class="pre">saga.resource.StorageDescription</span></tt> for the description of
resources with data storage capabilities;</li>
<li><tt class="xref py py-class docutils literal"><span class="pre">saga.resource.NetworkDescription</span></tt> for the description of
resources with communication capabilities.</li>
</ul>
</div></blockquote>
<p>There is at this point no notion of resources which combine different
capabilities.</p>
<p>For all these capabilities, the following attributes are supported:</p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt><cite>RType</cite> <span class="classifier-delimiter">:</span> <span class="classifier"><cite>Enum</cite>, describing the capabilities of the resource</span></dt>
<dd><p class="first last">(<cite>COMPUTE</cite>, <cite>STORAGE</cite> or <cite>NETWORK</cite>)</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><cite>Template</cite> <span class="classifier-delimiter">:</span> <span class="classifier"><cite>String</cite>, a backend specific resource class with some</span></dt>
<dd><p class="first last">pre-defined hardware properties to apply to the resource.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><cite>Image</cite> <span class="classifier-delimiter">:</span> <span class="classifier"><cite>String</cite>, a backend specific resource class with some </span></dt>
<dd><p class="first last">pre-defined software properties to apply to the resource.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><cite>Dynamic</cite> <span class="classifier-delimiter">:</span> <span class="classifier"><cite>Boolean, if `True</cite> signifies that the resource may</span></dt>
<dd><p class="first last">dynamically change its properties at runtime</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><cite>Start</cite> <span class="classifier-delimiter">:</span> <span class="classifier"><a href="#id2"><span class="problematic" id="id3">`</span></a>Integer (seconds) since epoch when the resource is </span></dt>
<dd><p class="first last">expected to enter / when the resource entered <cite>ACTIVE</cite> 
state.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><cite>End</cite> <span class="classifier-delimiter">:</span> <span class="classifier"><a href="#id4"><span class="problematic" id="id5">`</span></a>Integer (seconds) since epoch when the resource is </span></dt>
<dd><p class="first last">expected to enter / when the resource entered a <cite>FINAL</cite> 
state.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><cite>Duration</cite> <span class="classifier-delimiter">:</span> <span class="classifier"><cite>Integer</cite>, seconds for which the resource is expected to</span></dt>
<dd><p class="first last">remain / the resource remained in <cite>ACTIVE</cite> state.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><cite>MachineOS</cite> <span class="classifier-delimiter">:</span> <span class="classifier"><cite>String</cite>, for <cite>COMPUTE</cite> resources, specifies the</span></dt>
<dd><p class="first last">operating system type running on that resource.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><cite>MachineArch : `String</cite>, for <cite>COMPUTE</cite> resources, specifies the</dt>
<dd><p class="first last">machine architecture of that resource.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><cite>Size</cite> <span class="classifier-delimiter">:</span> <span class="classifier"><cite>Integer</cite>, for <cite>COMPUTE</cite> resources, specifies the</span></dt>
<dd><p class="first last">number of process slots provided, for <cite>STORAGE</cite> resource
specifies the number of bytes, of the resource.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><cite>Memory</cite> <span class="classifier-delimiter">:</span> <span class="classifier"><cite>Integer</cite>, for <cite>COMPUTE</cite> resources, specifies the</span></dt>
<dd><p class="first last">number of bytes provided as memory.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><cite>Access</cite> <span class="classifier-delimiter">:</span> <span class="classifier"><cite>String</cite>, usually an URL, which specifies the contact</span></dt>
<dd><p class="first last">point for the resource capability interface / service
interface.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<dl class="method">
<dt id="saga.resource.Description.clone">
<tt class="descname">clone</tt><big>(</big><em>*pargs</em>, <em>**pkwargs</em><big>)</big><a class="headerlink" href="#saga.resource.Description.clone" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="resource-saga-resource-resource">
<span id="resource-resource"></span><h2><a class="toc-backref" href="#id8">4.3. Resource &#8211; <a class="reference internal" href="#saga.resource.Resource" title="saga.resource.Resource"><tt class="xref py py-class docutils literal"><span class="pre">saga.resource.Resource</span></tt></a></a><a class="headerlink" href="#resource-saga-resource-resource" title="Permalink to this headline">Â¶</a></h2>
<dl class="class">
<dt id="saga.resource.Resource">
<em class="property">class </em><tt class="descclassname">saga.resource.</tt><tt class="descname">Resource</tt><big>(</big><em>*pargs</em>, <em>**pkwargs</em><big>)</big><a class="headerlink" href="#saga.resource.Resource" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">saga.base.Base</span></tt>, <a class="reference internal" href="../attribute.html#saga.attributes.Attributes" title="saga.attributes.Attributes"><tt class="xref py py-class docutils literal"><span class="pre">saga.attributes.Attributes</span></tt></a>, <tt class="xref py py-class docutils literal"><span class="pre">saga.async.Async</span></tt></p>
<p>A <tt class="xref py py-class docutils literal"><span class="pre">Resource</span></tt> class instance represents a specific slice of resource
which is, if in <cite>RUNNING</cite> state, under the applications control and ready to
serve usage requests.  The type of accepted usage requests depends on the
specific resource types (job execution for <tt class="xref py py-class docutils literal"><span class="pre">saga.resource.Compute</span></tt>,
data storage for <tt class="xref py py-class docutils literal"><span class="pre">saga.resource.Storage</span></tt>, and network connectivity
for <tt class="xref py py-class docutils literal"><span class="pre">saga.resource.Network</span></tt>.  The exact mechanism how those usage
requests are communicated are not part of the resource&#8217;s class interface,
but are instead served by other SAGA-Python classes &#8211; typically those are
<a class="reference internal" href="../job/index.html#saga.job.Service" title="saga.job.Service"><tt class="xref py py-class docutils literal"><span class="pre">saga.job.Service</span></tt></a> for Compute resources, and
<a class="reference internal" href="../filesystem/index.html#saga.filesystem.Directory" title="saga.filesystem.Directory"><tt class="xref py py-class docutils literal"><span class="pre">saga.filesystem.Directory</span></tt></a> for Storage resources (Network resources
provide implicit connectivity, but do not have explicit, public entry points
to request usage.</p>
<p>The process of resource acquisition is performed by a <em>ResourceManager</em>,
represented by a <a class="reference internal" href="#saga.resource.Manager" title="saga.resource.Manager"><tt class="xref py py-class docutils literal"><span class="pre">saga.resource.Manager</span></tt></a> instance.  The semantics of
the acquisition process is defined as the act of moving a slice (subset) of
the resources managed by the resource manager under the control of the
requesting application (i.e. under user control), to use as needed.  The
type and property of the resource slice to be acquired and the time and
duration over which the resource will be made available to the application
are specified in a <a class="reference internal" href="#saga.resource.Description" title="saga.resource.Description"><tt class="xref py py-class docutils literal"><span class="pre">saga.resource.Description</span></tt></a>, to be supplied when
acquiring a resource.</p>
<p>The exact backend semantics on <em>how</em> a resource slice is provisioned to the
application is up to the resource manager backend &#8211; this can be as simple
as providing a job submission endpoint to a classic HPC resource, and as
complex as instantiating a pilot job or pilot data container, or reserving
a network fiber on demand, or instantiating a virtual machine &#8211; the result
will, from the application&#8217;s perspective, indistinguishable: a resource
slice is made available for the execution of usage requests (tasks,
workload, jobs, ...).</p>
<p>Resources are stateful: when acquired from a resource manager, they are
typically in <cite>NEW</cite> state, and will become <cite>ACTIVE</cite> once they are provisioned
to the application and can serve usage requests.  Some resources may  go
through an intermediate state, <cite>PENDING</cite>, when they are about to become
active at some point, and usage requests can already be submitted &#8211; those
usage requests will not be executed until the resources enters the <cite>ACTIVE</cite>
state.  The resource can be release from application control in three
different ways: they can be actively be destroyed by the application, and
will then enter the <cite>CANCELED</cite> state; they can internally cease to function
and become unable to serve usage requests, represented by a <cite>FAILED</cite> state,
and the resource manager can retract control from the application because
the agreed time duration has passed &#8211; this is represented by the <cite>EXPIRED</cite>
state.</p>
<dl class="classmethod">
<dt id="saga.resource.Resource.create">
<em class="property">classmethod </em><tt class="descname">create</tt><big>(</big><em>*pargs</em>, <em>**pkwargs</em><big>)</big><a class="headerlink" href="#saga.resource.Resource.create" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="saga.resource.Resource.reconfig">
<tt class="descname">reconfig</tt><big>(</big><em>*pargs</em>, <em>**pkwargs</em><big>)</big><a class="headerlink" href="#saga.resource.Resource.reconfig" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="saga.resource.Resource.destroy">
<tt class="descname">destroy</tt><big>(</big><em>*pargs</em>, <em>**pkwargs</em><big>)</big><a class="headerlink" href="#saga.resource.Resource.destroy" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="saga.resource.Resource.wait">
<tt class="descname">wait</tt><big>(</big><em>*pargs</em>, <em>**pkwargs</em><big>)</big><a class="headerlink" href="#saga.resource.Resource.wait" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="saga.resource.Resource.get_id">
<tt class="descname">get_id</tt><big>(</big><em>*pargs</em>, <em>**pkwargs</em><big>)</big><a class="headerlink" href="#saga.resource.Resource.get_id" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="saga.resource.Resource.get_rtype">
<tt class="descname">get_rtype</tt><big>(</big><em>*pargs</em>, <em>**pkwargs</em><big>)</big><a class="headerlink" href="#saga.resource.Resource.get_rtype" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="saga.resource.Resource.get_state">
<tt class="descname">get_state</tt><big>(</big><em>*pargs</em>, <em>**pkwargs</em><big>)</big><a class="headerlink" href="#saga.resource.Resource.get_state" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="saga.resource.Resource.get_state_detail">
<tt class="descname">get_state_detail</tt><big>(</big><em>*pargs</em>, <em>**pkwargs</em><big>)</big><a class="headerlink" href="#saga.resource.Resource.get_state_detail" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="saga.resource.Resource.get_access">
<tt class="descname">get_access</tt><big>(</big><em>*pargs</em>, <em>**pkwargs</em><big>)</big><a class="headerlink" href="#saga.resource.Resource.get_access" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="saga.resource.Resource.get_manager">
<tt class="descname">get_manager</tt><big>(</big><em>*pargs</em>, <em>**pkwargs</em><big>)</big><a class="headerlink" href="#saga.resource.Resource.get_manager" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="saga.resource.Resource.get_description">
<tt class="descname">get_description</tt><big>(</big><em>*pargs</em>, <em>**pkwargs</em><big>)</big><a class="headerlink" href="#saga.resource.Resource.get_description" title="Permalink to this definition">Â¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">4. Resource Management</a><ul>
<li><a class="reference internal" href="#resource-manager-saga-resource-manager">4.1. Resource Manager &#8211; <tt class="docutils literal"><span class="pre">saga.resource.Manager</span></tt></a></li>
<li><a class="reference internal" href="#resource-description-saga-resource-description">4.2. Resource Description &#8211; <tt class="docutils literal"><span class="pre">saga.resource.Description</span></tt></a></li>
<li><a class="reference internal" href="#resource-saga-resource-resource">4.3. Resource &#8211; <tt class="docutils literal"><span class="pre">saga.resource.Resource</span></tt></a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../filesystem/index.html"
                        title="previous chapter">3. Files and Directories</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../replica/index.html"
                        title="next chapter">5. Replica Management</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/library/resource/index.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../replica/index.html" title="5. Replica Management"
             >next</a> |</li>
        <li class="right" >
          <a href="../filesystem/index.html" title="3. Files and Directories"
             >previous</a> |</li>
        <li><a href="../../index.html">SAGA 0.9.11 documentation</a> &raquo;</li>
          <li><a href="../index.html" >2. Library Reference</a> &raquo;</li> 
      </ul>
    </div>
<div class="footer">
    &copy; Copyright 2012, The SAGA Project.
  Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
  <br />Theme based on <a href="http://readthedocs.org/">Read The Docs</a>

</div>





  </body>
</html>